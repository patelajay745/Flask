{% extends "layout.html" %}

{% block body %}

<main id="main">

  <!-- ======= Hero Slider Section ======= -->
  <section id="hero-slider" class="hero-slider">
    <div class="container-md" data-aos="fade-in">
      <div class="row">
        <div class="col-12">
          <div class="swiper sliderFeaturedPosts">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <a href="single-post.html" class="img-bg d-flex align-items-end"
                  style="background-image: url({{ url_for('static', filename= 'assets/img/post-slide-1.jpg')  }});">
                  <div class="img-bg-inner">
                    <h2>The Best Homemade Masks for Face (keep the Pimples Away)</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem neque est mollitia! Beatae
                      minima assumenda repellat harum vero, officiis ipsam magnam obcaecati cumque maxime inventore
                      repudiandae quidem necessitatibus rem atque.</p>
                  </div>
                </a>
              </div>

              <div class="swiper-slide">
                <a href="single-post.html" class="img-bg d-flex align-items-end"
                  style="background-image: url({{ url_for('static', filename= 'assets/img/post-slide-2.jpg')  }});">
                  <div class="img-bg-inner">
                    <h2>17 Pictures of Medium Length Hair in Layers That Will Inspire Your New Haircut</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem neque est mollitia! Beatae
                      minima assumenda repellat harum vero, officiis ipsam magnam obcaecati cumque maxime inventore
                      repudiandae quidem necessitatibus rem atque.</p>
                  </div>
                </a>
              </div>

              <div class="swiper-slide">
                <a href="single-post.html" class="img-bg d-flex align-items-end"
                  style="background-image: url({{ url_for('static', filename= 'assets/img/post-slide-3.jpg')  }});">
                  <div class="img-bg-inner">
                    <h2>13 Amazing Poems from Shel Silverstein with Valuable Life Lessons</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem neque est mollitia! Beatae
                      minima assumenda repellat harum vero, officiis ipsam magnam obcaecati cumque maxime inventore
                      repudiandae quidem necessitatibus rem atque.</p>
                  </div>
                </a>
              </div>

              <div class="swiper-slide">
                <a href="single-post.html" class="img-bg d-flex align-items-end"
                  style="background-image: url({{ url_for('static', filename= 'assets/img/post-slide-4.jpg')  }});">
                  <div class="img-bg-inner">
                    <h2>9 Half-up/half-down Hairstyles for Long and Medium Hair</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem neque est mollitia! Beatae
                      minima assumenda repellat harum vero, officiis ipsam magnam obcaecati cumque maxime inventore
                      repudiandae quidem necessitatibus rem atque.</p>
                  </div>
                </a>
              </div>
            </div>
            <div class="custom-swiper-button-next">
              <span class="bi-chevron-right"></span>
            </div>
            <div class="custom-swiper-button-prev">
              <span class="bi-chevron-left"></span>
            </div>

            <div class="swiper-pagination"></div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- End Hero Slider Section -->

  <!-- ======= Post Grid Section ======= -->
  <section id="posts" class="posts">
    <div class="container" data-aos="fade-up">
      <div class="row g-5">

        {% for post in posts %}

        <div class="col-lg-4 {% if loop.index != 1 %}border-start custom-border{% endif %}">
          <div class="post-entry-1 lg">
            {% set fname = 'assets/img/' + post.img_url %}
            <a href="/post/{{ post.slug }}"><img src="{{ url_for('static', filename=fname) }}" alt=""
                class="img-fluid"></a>
            <div class="post-meta"><span class="date">{{ post.category }}</span> <span class="mx-1">&bullet;</span>
              <span>{{ post.date }}</span>
            </div>
            <h2><a href="/post/{{ post.slug }}">{{ post.title }}</a></h2>

            {% if loop.index == 1 %}
            <p class="mb-4 d-block">{{ post.content[:350] }}{% if post.content|length > 350 %}...{% endif %}</p>
            {% endif %}


          </div>
        </div>
        {% endfor %}

      </div> <!-- End .row -->
    </div>
  </section> <!-- End Post Grid Section -->






  <!-- Display Categories and Posts -->
  {% for category in categories %}
  <section class="category-section">
    <div class="container" data-aos="fade-up">
      <div class="section-header d-flex justify-content-between align-items-center mb-5">
        <h2>{{ category[0] }}</h2>
        <div></div>
      </div>

      <div class="row g-5">
        {% for post in category_posts[category[0]] %}
        <!-- Display Post details here -->
        <div class="col-lg-4 {% if loop.index > 1 %}border-start custom-border{% endif %}">
          {% if loop.index == 1 %} <!-- Check if it's the first post -->
          <div class="post-entry-1 lg">
            <!-- Larger title and content for the first post -->
            {% set fname = 'assets/img/' + post.img_url %}
            <a href="/post/{{ post.slug }}"><img src="{{ url_for('static', filename=fname) }}" alt=""
                class="img-fluid"></a>
            <div class="post-meta">
              <span class="date">{{ post.category }}</span>
              <span class="mx-1">&bullet;</span>
              <span>{{ post.date }}</span>
            </div>
            <h2><a href="/post/{{ post.slug }}">{{ post.title }}</a></h2>
            <p class="mb-4 d-block">{{ post.content[:350] }}{% if post.content|length > 350 %}...{% endif %}
            </p>

          </div>
          {% else %}
          <!-- Smaller title and no content for subsequent posts -->
          <div class="post-entry-1 border-bottom">

            {% set fname = 'assets/img/' + post.img_url %}
            <a href="/post/{{ post.slug }}"><img src="{{ url_for('static', filename=fname) }}" alt=""
                class="img-fluid"></a>
            <div class="post-meta">
              <span class="date">{{ post.category }}</span>
              <span class="mx-1">&bullet;</span>
              <span>{{ post.date }}</span>
            </div>
            <h2 class="mb-2"><a href="/post/{{ post.slug }}">{{ post.title }}</a></h2>



          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
  {% endfor %}





</main><!-- End #main -->

{% endblock %}